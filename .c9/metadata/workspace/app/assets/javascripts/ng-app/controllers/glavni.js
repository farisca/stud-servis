{"changed":true,"filter":false,"title":"glavni.js","tooltip":"/app/assets/javascripts/ng-app/controllers/glavni.js","value":"angular.module('aplikacija')\n    .controller(\"glavniController\", ['$http', '$location', '$window', 'AuthToken','$scope', function($http, $location, $window, AuthToken, $scope) {\n\t\tthis.trenutnaStranica=\"home\";\n\t\tthis.prijavljen={};\n        var obj;\n\t\tconsole.log(\"token\" + AuthToken.get());\n\t\t\n\t \tconsole.log(\"rola usera\");\n\t\t$http.get('/users/get_role').success(function(data, status, headers, config) {\n         AuthToken.setTipKorisnika(data.rola);\n         });\n\n\t\tthis.isTrenutna = function(stranica) {\n\t\t\treturn (stranica===this.trenutnaStranica);\n\t\t}\n\n\t\tthis.isVidljiv = function(stranica) {\n\t\t\t//console.log(\"mijenjam vidljivost\" + stranica);\n\t\t\tif(stranica == \"prijava\" && AuthToken.get() == \"\") return true;\n\t\t\tif(stranica == \"registracijaStudenta\" && AuthToken.get() == \"\") return true;\n\t\t\tif(stranica == \"registracijaKompanije\" && AuthToken.get() == \"\") return true;\n\t\t\t\n\t\t\t//Za sve logirane usere\n\t\t\tif(stranica == \"odjava\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"profil\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"pocetna\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"promjenaSifre\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"home\" && AuthToken.get() != \"\") return true;\n\t\t\t\n\t\t\t//Za sve logirane studente\n\t\t\tif(stranica == \"oglasi\" && AuthToken.get() != \"\" && AuthToken.tipKorisnika()==0 ) return true;\n\t\t\tif(stranica == \"oglas\" && AuthToken.get() != \"\" && AuthToken.tipKorisnika()==0 ) return true;\n\t\t\tif(stranica == \"listaOglasa\" && AuthToken.get() != \"\" ) return true;\n\t\t\t\n\t\t\t//Za logirane kompanije\n\t\t\tif(stranica == \"unosOglasa\" && AuthToken.get() != \"\" && AuthToken.tipKorisnika()==1) return true;\n\t\t\tif(stranica == \"kompanija\" && AuthToken.get() != \"\" && AuthToken.tipKorisnika()==1) return true;\n\t\t\n\t\t\n\t\t\tif(stranica == \"potvrdaOUnesenomOglasu\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"potvrdaORegistraciji\" && AuthToken.get() != \"\") return true;\n\t\t\tif(stranica == \"change_locale\" && AuthToken.get() != \"\") return true;\n\n\n\t\t\treturn false;\n\t\t\t\n\t\t}\n\n\t\tthis.setTrenutna = function(stranica) {\n\t\t\tthis.trenutnaStranica=stranica;\n\t\t}\n\n\t\tthis.isPrijavljen = function() {\n\t\t\tobj = this.prijavljen;\n   \t\t\tfor(var prop in obj) {\n       \t\t\t if(obj.hasOwnProperty(prop))\n           \t\t return true;\n   \t\t\t }\n\n   \t\t\t return false;\n\t\t}\n\n\t\tthis.setPrijavljen = function(naziv) {\n\t\t\tthis.prijavljen.ime=naziv;\n\t\t}\n\n\t\tthis.logout = function() {\n\t\t\tAuthToken.set(\"\", \"\");\n\t\t\tconsole.log(\"token\" + AuthToken.get());\n\t\t\t//$http.get(\"/sessions/delete_session\");\n\t\t\t//alert(\"logoutam\");\n//\t\t\t$window.location.reload();\n  //  \t\t\t\t$location.path('login');\n\t\t}\n\n\t\tthis.prijava = function() {\n\t\t\t//alert(\"logiram se\");\n\t\t\t$location.path('/login');\n\t\t}\n\n\n\n\n\t}]);","undoManager":{"mark":82,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":11,"column":5},"end":{"row":11,"column":7},"action":"remove","lines":[" \t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":5},"end":{"row":11,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":20},"end":{"row":8,"column":34},"action":"remove","lines":["find_user_role"]},{"start":{"row":8,"column":20},"end":{"row":8,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":21},"end":{"row":8,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":22},"end":{"row":8,"column":23},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":23},"end":{"row":8,"column":24},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":25},"end":{"row":8,"column":26},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":26},"end":{"row":8,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":27},"end":{"row":8,"column":28},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":20},"end":{"row":8,"column":28},"action":"remove","lines":["get_user"]},{"start":{"row":8,"column":20},"end":{"row":8,"column":28},"action":"insert","lines":["get_role"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":22},"end":{"row":12,"column":23},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":23},"end":{"row":12,"column":24},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":24},"end":{"row":12,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":0},"end":{"row":13,"column":9},"action":"insert","lines":["AuthToken"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":9},"end":{"row":13,"column":10},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":10},"end":{"row":13,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":10},"end":{"row":13,"column":12},"action":"remove","lines":["se"]},{"start":{"row":13,"column":10},"end":{"row":13,"column":27},"action":"insert","lines":["setTipKorisnika()"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":26},"end":{"row":13,"column":27},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":26},"end":{"row":13,"column":27},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":26},"end":{"row":13,"column":35},"action":"insert","lines":["data.rola"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":36},"end":{"row":13,"column":37},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":1},"end":{"row":13,"column":2},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":2},"end":{"row":13,"column":3},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":3},"end":{"row":13,"column":4},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":4},"end":{"row":13,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":5},"end":{"row":13,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":6},"end":{"row":13,"column":7},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":7},"end":{"row":13,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":8},"end":{"row":13,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":46},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":9},"action":"insert","lines":["         "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":46},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":9},"action":"insert","lines":["         "]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":9},"end":{"row":14,"column":32},"action":"insert","lines":["console.log(data.rola);"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":5},"end":{"row":12,"column":29},"action":"remove","lines":[" $scope.podaci=data;","    \t console.log(\"rola usera\");","    \t console.log(data.rola);"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":3},"end":{"row":10,"column":4},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":2},"end":{"row":10,"column":3},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":1},"end":{"row":10,"column":2},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":10,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":80},"end":{"row":9,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":52},"end":{"row":20,"column":53},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":53},"end":{"row":20,"column":54},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":54},"end":{"row":20,"column":55},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":55},"end":{"row":20,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":56},"end":{"row":20,"column":57},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":57},"end":{"row":20,"column":58},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":58},"end":{"row":20,"column":59},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":59},"end":{"row":20,"column":60},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":56},"end":{"row":20,"column":60},"action":"remove","lines":["Auth"]},{"start":{"row":20,"column":56},"end":{"row":20,"column":65},"action":"insert","lines":["AuthToken"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":21},"end":{"row":10,"column":30},"action":"remove","lines":["data.rola"]},{"start":{"row":10,"column":21},"end":{"row":10,"column":22},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":22},"end":{"row":10,"column":23},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":21},"end":{"row":10,"column":23},"action":"remove","lines":["Au"]},{"start":{"row":10,"column":21},"end":{"row":10,"column":30},"action":"insert","lines":["AuthToken"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":30},"end":{"row":10,"column":31},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":10,"column":45},"action":"insert","lines":["tipKorisnika()"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":65},"end":{"row":20,"column":66},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":66},"end":{"row":20,"column":80},"action":"insert","lines":["tipKorisnika()"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":79},"end":{"row":20,"column":80},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":80},"end":{"row":20,"column":81},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":81},"end":{"row":20,"column":82},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":82},"end":{"row":20,"column":83},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":79},"end":{"row":20,"column":80},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":9},"end":{"row":10,"column":47},"action":"remove","lines":["console.log(AuthToken.tipKorisnika());"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":11,"column":9},"action":"remove","lines":["         ","         "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":46},"end":{"row":10,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":53},"end":{"row":18,"column":83},"action":"remove","lines":["&& AuthToken.tipKorisnika()==0"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":52},"end":{"row":18,"column":53},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":51},"end":{"row":27,"column":52},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":52},"end":{"row":27,"column":82},"action":"insert","lines":["&& AuthToken.tipKorisnika()==0"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":55},"end":{"row":31,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":56},"end":{"row":31,"column":86},"action":"insert","lines":["&& AuthToken.tipKorisnika()==0"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":85},"end":{"row":31,"column":86},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":85},"end":{"row":31,"column":86},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":54},"end":{"row":32,"column":55},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":55},"end":{"row":32,"column":85},"action":"insert","lines":["&& AuthToken.tipKorisnika()==0"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":84},"end":{"row":32,"column":85},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":84},"end":{"row":32,"column":85},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":2},"end":{"row":34,"column":72},"action":"remove","lines":["\tif(stranica == \"pocetna\" && AuthToken.get() != \"\") return true;","\t\t\tif(stranica == \"promjenaSifre\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":65},"end":{"row":25,"column":0},"action":"insert","lines":["",""]},{"start":{"row":25,"column":0},"end":{"row":25,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":3},"end":{"row":26,"column":72},"action":"insert","lines":["\tif(stranica == \"pocetna\" && AuthToken.get() != \"\") return true;","\t\t\tif(stranica == \"promjenaSifre\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":3},"end":{"row":25,"column":4},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":2},"end":{"row":36,"column":70},"action":"remove","lines":["\tif(stranica == \"listaOglasa\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":64},"end":{"row":31,"column":0},"action":"insert","lines":["",""]},{"start":{"row":31,"column":0},"end":{"row":31,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":3},"end":{"row":31,"column":71},"action":"insert","lines":["\tif(stranica == \"listaOglasa\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":3},"end":{"row":31,"column":4},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":50},"end":{"row":30,"column":51},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":51},"end":{"row":30,"column":52},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":52},"end":{"row":30,"column":53},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":53},"end":{"row":30,"column":54},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":54},"end":{"row":30,"column":82},"action":"insert","lines":["AuthToken.tipKorisnika()==0 "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":56},"end":{"row":31,"column":57},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":41,"column":63},"action":"remove","lines":["\t\t\tif(stranica == \"home\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":72},"end":{"row":27,"column":0},"action":"insert","lines":["",""]},{"start":{"row":27,"column":0},"end":{"row":27,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":3},"end":{"row":27,"column":66},"action":"insert","lines":["\t\t\tif(stranica == \"home\" && AuthToken.get() != \"\") return true;"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":3},"end":{"row":27,"column":6},"action":"remove","lines":["\t\t\t"]}]}]]},"ace":{"folds":[],"scrolltop":240,"scrollleft":0,"selection":{"start":{"row":27,"column":3},"end":{"row":27,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1430775265248}