{"filter":false,"title":"students_controller.rb","tooltip":"/app/controllers/students_controller.rb","undoManager":{"mark":5,"position":5,"stack":[[{"group":"doc","deltas":[{"start":{"row":56,"column":71},"end":{"row":57,"column":0},"action":"insert","lines":["",""]},{"start":{"row":57,"column":0},"end":{"row":57,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":2},"end":{"row":58,"column":0},"action":"insert","lines":["",""]},{"start":{"row":58,"column":0},"end":{"row":58,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":45},"end":{"row":2,"column":54},"action":"remove","lines":["update, :"]},{"start":{"row":56,"column":0},"end":{"row":57,"column":0},"action":"insert","lines":["<<<<<<< HEAD",""]},{"start":{"row":60,"column":0},"end":{"row":70,"column":83},"action":"remove","lines":["  def show","    @student = Student.find_by(user_id: current_user.id)","    render json: @student","  end","","  def update","    respond_to do |format|","      if @student.update(student_params)","        format.json { render :show, status: :ok, location: @student }","      else","        format.json { render json: @student.errors, status: :unprocessable_entity }"]},{"start":{"row":60,"column":0},"end":{"row":85,"column":17},"action":"insert","lines":["=======","  before_action :set_current_user, :authenticate_request, only: [:show, :update]",">>>>>>> 40df7084d28a6bef4eaae7d56096abc9a1235d84","  def show","    @student = Student.find_by(user_id: current_user.id)","    render json: @student","  end","","  def update","    @student = Student.find_by(user_id: current_user.id)","    @student.name = params[\"name\"]","    @student.surname = params[\"surname\"]","    #@student.location = params[\"location\"]","    @student.university = params[\"university\"]","    @student.faculty = params[\"faculty\"]","","    upload = params[\"file\"]","    name =  @student.id.to_s + \".pdf\"","    directory = \"public/data\"","    # create the file path","    path = File.join(directory, name)","    # write the file","    File.open(path, \"wb\") { |f| f.write(upload.read) }","","    @student.cv = path","    @student.save"]},{"start":{"row":86,"column":4},"end":{"row":86,"column":6},"action":"remove","lines":["  "]},{"start":{"row":86,"column":4},"end":{"row":86,"column":5},"action":"insert","lines":["r"]},{"start":{"row":86,"column":8},"end":{"row":87,"column":4},"action":"remove","lines":["","    "]},{"start":{"row":86,"column":8},"end":{"row":86,"column":22},"action":"insert","lines":["er json: @stud"]},{"start":{"row":86,"column":24},"end":{"row":86,"column":25},"action":"remove","lines":["d"]},{"start":{"row":86,"column":24},"end":{"row":86,"column":25},"action":"insert","lines":["t"]},{"start":{"row":96,"column":0},"end":{"row":105,"column":0},"action":"insert","lines":["  def download_cv","    render json: \"proba\"","    send_file(","     \"#{Rails.root}/public/data/\" + params[\"id\"] + \".pdf\",","      filename: \"CV.pdf\",","      type: \"application/pdf\"","    )","  end","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":62,"column":48},"action":"remove","lines":[">>>>>>> 40df7084d28a6bef4eaae7d56096abc9a1235d84"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":0},"end":{"row":60,"column":7},"action":"remove","lines":["<<<<<<< HEAD","  before_action :set_current_user, :authenticate_request, only: [:show]","  ","  ","======="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":0},"end":{"row":56,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":749.9999666213989,"scrollleft":0,"selection":{"start":{"row":66,"column":40},"end":{"row":66,"column":40},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":54,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1430664455151,"hash":"df438c57a95a1eeadc797092acf07f0afc77065b"}